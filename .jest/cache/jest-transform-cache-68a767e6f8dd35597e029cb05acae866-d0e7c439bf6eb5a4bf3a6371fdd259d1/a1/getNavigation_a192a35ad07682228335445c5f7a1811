65f7bb324c07c305e9369605a3a1eacf
Object.defineProperty(exports, "__esModule", { value: true });exports.default = getNavigation;var _objectSpread2 = require("@babel/runtime/helpers/interopRequireDefault")(require("@babel/runtime/helpers/objectSpread"));var _getNavigationActionCreators = require("@babel/runtime/helpers/interopRequireDefault")(require("./routers/getNavigationActionCreators"));var _getChildNavigation2 = require("@babel/runtime/helpers/interopRequireDefault")(require("./getChildNavigation"));var _getChildrenNavigationCache = require("@babel/runtime/helpers/interopRequireDefault")(require("./getChildrenNavigationCache"));function getNavigation(router, state, dispatch, actionSubscribers, getScreenProps, getCurrentNavigation) {var actions = router.getActionCreators(state, null);var navigation = { actions: actions, router: router, state: state, dispatch: dispatch, getScreenProps: getScreenProps, getChildNavigation: function getChildNavigation(childKey) {return (0, _getChildNavigation2.default)(navigation, childKey, getCurrentNavigation);}, isFocused: function isFocused(childKey) {var _getCurrentNavigation = getCurrentNavigation().state,routes = _getCurrentNavigation.routes,index = _getCurrentNavigation.index;if (childKey == null || routes[index].key === childKey) {return true;}return false;}, addListener: function addListener(eventName, handler) {if (eventName !== 'action') {return { remove: function remove() {} };}actionSubscribers.add(handler);return { remove: function remove() {actionSubscribers.delete(handler);} };}, dangerouslyGetParent: function dangerouslyGetParent() {return null;}, isFirstRouteInParent: function isFirstRouteInParent() {return true;}, _childrenNavigation: (0, _getChildrenNavigationCache.default)(getCurrentNavigation()) };var actionCreators = (0, _objectSpread2.default)({}, (0, _getNavigationActionCreators.default)(navigation.state), actions);Object.keys(actionCreators).forEach(function (actionName) {navigation[actionName] = function () {return navigation.dispatch(actionCreators[actionName].apply(actionCreators, arguments));};});return navigation;}